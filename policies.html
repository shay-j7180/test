<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Retreat Policies</title>
  <link rel="stylesheet" href="policies.css">
  <style>
    #thankYouMessage {
      display: none;
      margin: 32px 0;
      padding: 2em;
      background: #f3f3f3;
      border-radius: 8px;
      text-align: center;
    }
    .register-another-btn {
      margin-top: 1.5em;
      padding: 0.8em 2em;
      font-size: 1.1em;
      background: #1976d2;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .register-another-btn:hover {
      background: #115293;
    }
  </style>
</head>
<body>
  <div class="container">
    <form 
      id="policyForm"
      name="policyForm"
      method="POST"
      data-netlify="true"
    >
      <h2>Retreat Policies</h2>
      <p>
        Please read through our policies and acknowledge them by signing your name and clicking submit
      </p>
      <h3>Permission to secure treatment</h3>
      <p>
        In the event of an emergency, I authorize New Life Christian Camp Association to secure from any licensed hospital, physician, and/or medical personnel any treatment deemed necessary for me or my minor child/ward's immediate care and agree that I will be responsible for payment of any and all medical services rendered. I understand that this authorization includes transporting my child by ambulance if necessary to the nearest medical treatment facility or hospital if I am unable to be reached first.
      </p>
      <h3>Release of liability and permission to secure treatment</h3>
      <p>
        I recognize and acknowledge that there are certain risks of physical injury to participants in the above program(s) and I agree to assume the full risk of any injuries, damages, or loss regardless of severity which I or my minor child/ward may sustain as a result of participating in any and all activities connected with or associated with such program(s). I agree to waive and relinquish all claims I or my minor child/ward may have against New Life Christian Camp Association, its officers, agents, volunteers, and employees as a result of participation in the program. I do hereby fully release and discharge New Life Christian Camp Association, its officers, agents, volunteers, and employees from any and all claims from injury, damage, or loss with the activities of the program(s). I further agree to indemnify and hold harmless and defend New Life Christian Camp Association and its officers, agents, volunteers, and employees from any and all claims resulting from injuries, damages, or losses sustained by me or my minor child/ward arising out of, connected with, or in any way associated with the activities of the program(s).
      </p>
      <h3>No responsibility disclaimer</h3>
      <p>
        I recognize and acknowledge that New Life Christian Camp Association shall not be held liable for any loss, theft, or damage to personal property, including but not limited to items brought onto the premises or in connection with any event or activity. Participants, guests, or attendees assume full responsibility for the security and safety of their belongings. By entering the premises or participating in the event, all individuals agree to release the organization from any and all claims, demands, and causes of action related to such loss, theft, or damage.
      </p>
      <h3>Photography and Videography Release</h3>
      <p>
        I grant permission to New Life Christian Camp Association to take photographs and videos of me and/or my minor child/ward during the retreat for promotional purposes. I understand that these images may be used in various media, including but not limited to brochures, websites, and social media. If I do not wish for my image or that of my child/ward to be used, I will notify the organization in writing prior to the event.
      </p>
      <p>
        By signing below, I fully acknowledge and understand all of NLCCA's policies and agree to abide by them.
      </p>
      <div>
        <label>
          <input type="checkbox" name="agreePolicy" required> I agree to the policies
        </label>
      </div>
      <div>
        <label for="dateCompleted">Date Completed:</label>
        <input type="date" id="dateCompleted" name="dateCompleted" required>
      </div>
      <div>
        <label for="signature">Electronic Signature:</label>
        <input type="text" id="signature" name="signature" required>
      </div>
      <!-- Hidden fields for all registration info from previous steps -->
      <input type="hidden" name="firstName" id="firstName">
      <input type="hidden" name="lastName" id="lastName">
      <input type="hidden" name="dob" id="dob">
      <input type="hidden" name="email" id="email">
      <input type="hidden" name="phone" id="phone">
      <input type="hidden" name="address" id="address">
      <input type="hidden" name="parentName" id="parentName">
      <input type="hidden" name="emergencyContactName" id="emergencyContactName">
      <input type="hidden" name="emergencyContactPhone" id="emergencyContactPhone">
      <input type="hidden" name="allergies" id="allergies">
      <input type="hidden" name="allergyDetails" id="allergyDetails">
      <input type="hidden" name="accommodations" id="accommodations">
      <input type="hidden" name="stayingPlace" id="stayingPlace">
      <input type="hidden" name="stayingWith" id="stayingWith">
      <input type="hidden" name="bedsNeeded" id="bedsNeeded">
      <input type="hidden" name="roommates" id="roommates">
      <input type="hidden" name="vbs" id="vbs">
      <input type="hidden" name="vbsDetails" id="vbsDetails">
      <input type="hidden" name="otherNotes" id="otherNotes">
      <div>
        <button type="submit">Submit</button>
      </div>
    </form>
    <!-- Thank you message and register another person button -->
    <div id="thankYouMessage">
      <h2>Thank you for registering!</h2>
      <p>Your registration has been submitted.</p>
      <button class="register-another-btn" onclick="window.location.href='index.html'">Register Another Person</button>
    </div>
  </div>
  <script>
    // Fill hidden fields with values from localStorage before submit
    const keys = [
      'firstName', 'lastName', 'dob', 'email', 'phone',
      'address', 'parentName', 'emergencyContactName', 'emergencyContactPhone',
      'allergies', 'allergyDetails', 'accommodations',
      'stayingPlace', 'stayingWith', 'bedsNeeded', 'roommates',
      'vbs', 'vbsDetails', 'otherNotes'
    ];
    keys.forEach(key => {
      const val = localStorage.getItem(key);
      if (val !== null) {
        document.getElementById(key).value = val;
      }
  </script>
</body>